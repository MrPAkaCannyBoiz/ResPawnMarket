@page "/login"
@inject LoginViewModel vm
@inject NavigationManager Nav

<h3>Reseller Login</h3>

<div class="card p-4" style="max-width:400px;">
    <div class="mb-3">
        <label>Username</label>
        <input class="form-control" @bind="vm.Username" />
    </div>

    <div class="mb-3">
        <label>Password</label>
        <input type="password" class="form-control" @bind="vm.Password" />
    </div>

    @if (!string.IsNullOrEmpty(vm.Error))
    {
        <p class="text-danger">@vm.Error</p>
    }

    <button class="btn btn-primary" @onclick="Login">Login</button>
</div>

@code {
    private async Task Login()
    {
        if (await vm.LoginAsync())
        {
            Nav.NavigateTo("/");
        }
    }
}
